configMapName: ""
secretName: ""

replicaCount: 1

image:
  repository: "333333333333.dkr.ecr.us-east-1.amazonaws.com/ai-chatbot-backend"
  tag: "latest"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8000

serviceAccount:
  create: true
  name: ""
  automount: true
  annotations: {}

resources:
  requests:
    cpu: 2000m
    memory: 4Gi
  limits:
    cpu: 6000m
    memory: 8Gi

nodeSelector:
  workload-type: ml

tolerations:
  - key: workload-type
    operator: Equal
    value: ml
    effect: NoSchedule

healthCheck:
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 120
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 30
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

env: {}

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 300
      policies:
        - type: Percent
          value: 50
          periodSeconds: 60
    scaleUp:
      stabilizationWindowSeconds: 0
      policies:
        - type: Percent
          value: 100
          periodSeconds: 60
        - type: Pods
          value: 2
          periodSeconds: 60
      selectPolicy: Max
